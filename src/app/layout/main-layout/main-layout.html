<div class="flex min-h-screen bg-slate-50">
  <app-sidebar
    [isOpen]="sidebarOpen()"
    [isCollapsed]="isCollapsed()"
    (closeSidebar)="closeSidebar()"
    (toggleCollapse)="toggleCollapse()"
  ></app-sidebar>

  <div
    [class]="
      'flex-1 flex flex-col min-h-screen transition-all duration-300 ' +
      (isCollapsed() ? 'lg:ml-20' : 'lg:ml-64')
    "
  >
    <app-header (toggleSidebar)="toggleSidebar()"></app-header>

    <main class="flex-1 p-4 sm:p-6 lg:p-8">
      <router-outlet></router-outlet>
    </main>
  </div>

  <button
    (click)="toggleSidebar()"
    class="lg:hidden fixed bottom-6 right-6 z-60 w-14 h-14 rounded-full bg-linear-to-br from-blue-600 to-indigo-700 text-white shadow-xl shadow-blue-500/30 flex items-center justify-center hover:scale-105 active:scale-95 transition-all duration-200"
  >
    @if (sidebarOpen()) {
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M6 18L18 6M6 6l12 12"
        />
      </svg>
    } @else {
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16"
        />
      </svg>
    }
  </button>
</div>
